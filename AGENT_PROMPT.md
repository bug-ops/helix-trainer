# AGENT_PROMPT: Helix Keybindings Trainer

## –í–∞—à–µ–π –∑–∞–¥–∞—á–µ - —Ä–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ç—Ä–µ–Ω–∞–∂–µ—Ä –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è –≥–æ—Ä—è—á–∏—Ö –∫–ª–∞–≤–∏—à Helix

–í—ã —Ä–∞–±–æ—Ç–∞–µ—Ç–µ –≤ —Å–æ—Å—Ç–∞–≤–µ Rust-–∫–æ–º–∞–Ω–¥—ã, —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞—é—â–µ–π –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç. –í–∞—à–∞ —Ä–æ–ª—å - —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–æ–≥–ª–∞—Å–Ω–æ –ø–ª–∞–Ω—É –≤ Claude.md.

---

## –ü–†–ò–ù–¶–ò–ü–´ –†–ê–ë–û–¢–´

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≥–æ—Ç–æ–≤—ã–µ —Ä–µ—à–µ–Ω–∏—è**: –Ω–µ –ø–∏—à–∏—Ç–µ –≤–µ–ª–æ—Å–∏–ø–µ–¥—ã. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç–∫–æ—Å–∏—Å—Ç–µ–º—É Rust –¥–ª—è –≥–æ—Ç–æ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.
2. **–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å**: –∫–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–º –∏ —Ç–µ—Å—Ç–∏—Ä—É–µ–º—ã–º.
3. **–¢–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–∏–ø—ã Rust –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –æ—à–∏–±–æ–∫.
4. **–Ø—Å–Ω–æ—Å—Ç—å –∫–æ–¥–∞**: —Ö–æ—Ä–æ—à–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥ —Å –ø–æ–Ω—è—Ç–Ω—ã–º–∏ –∏–º–µ–Ω–∞–º–∏ –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏.
5. **–ò—Ç–µ—Ä–∞—Ç–∏–≤–Ω–æ—Å—Ç—å**: –Ω–∞—á–Ω–∏—Ç–µ —Å MVP, –∑–∞—Ç–µ–º —Ä–∞—Å—à–∏—Ä—è–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å.

---

## –≠–¢–ê–ü 1: FOUNDATION (MVP)

### –ó–∞–¥–∞—á–∞ 1.1: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**

- [ ] –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π Rust –ø—Ä–æ–µ–∫—Ç: `cargo init helix-trainer`
- [ ] –î–æ–±–∞–≤—å—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ Cargo.toml:

  ```toml
  [dependencies]
  ratatui = "0.28"
  crossterm = "0.28"
  tokio = { version = "1", features = ["full"] }
  serde = { version = "1.0", features = ["derive"] }
  toml = "0.8"
  tracing = "0.1"
  tracing-subscriber = "0.3"
  anyhow = "1.0"
  thiserror = "1.0"
  
  [dev-dependencies]
  tokio-test = "0.4"
  ```

- [ ] –°–æ–∑–¥–∞–π—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π —Å–æ–≥–ª–∞—Å–Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- [ ] –î–æ–±–∞–≤—å—Ç–µ .gitignore –∏ README.md

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞:**

- –ü—Ä–æ–µ–∫—Ç –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–æ–¥—É–ª–µ–π –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞
- `cargo build --release` —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –æ—à–∏–±–æ–∫

---

### –ó–∞–¥–∞—á–∞ 1.2: –°–∏—Å—Ç–µ–º–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**

- [ ] –°–æ–∑–¥–∞–π—Ç–µ –º–æ–¥—É–ª—å `src/config/` —Å –ø–æ–¥–º–æ–¥—É–ª–µ–º `scenarios.rs`
- [ ] –†–∞–∑—Ä–∞–±–æ—Ç–∞–π—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö Scenario —Å–æ–≥–ª–∞—Å–Ω–æ TOML —Ñ–æ—Ä–º–∞—Ç—É:

  ```rust
  #[derive(Deserialize, Debug, Clone)]
  pub struct Scenario {
      pub id: String,
      pub name: String,
      pub description: String,
      pub setup: Setup,
      pub target: TargetState,
      pub solution: Solution,
      pub alternatives: Vec<AlternativeSolution>,
      pub hints: Vec<String>,
      pub scoring: ScoringConfig,
  }
  ```

- [ ] –†–µ–∞–ª–∏–∑—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é –∑–∞–≥—Ä—É–∑–∫–∏ TOML —Ñ–∞–π–ª–∞:

  ```rust
  pub fn load_scenarios(path: &Path) -> anyhow::Result<Vec<Scenario>>
  ```

- [ ] –î–æ–±–∞–≤—å—Ç–µ –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ (—Ñ–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω, –Ω–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç)
- [ ] –ù–∞–ø–∏—à–∏—Ç–µ unit-—Ç–µ—Å—Ç—ã –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞:**

- –ú–æ–∂–Ω–æ –∑–∞–≥—Ä—É–∂–∞—Ç—å TOML —Ñ–∞–π–ª
- –°—Ç—Ä—É–∫—Ç—É—Ä—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑—É—é—Ç—Å—è
- –¢–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç

---

### –ó–∞–¥–∞—á–∞ 1.3: –ú–æ–¥–µ–ª—å —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ (EditorState)

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**

- [ ] –°–æ–∑–¥–∞–π—Ç–µ –º–æ–¥—É–ª—å `src/game/editor_state.rs`
- [ ] –†–µ–∞–ª–∏–∑—É–π—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É EditorState:

  ```rust
  #[derive(Clone, Debug, PartialEq)]
  pub struct EditorState {
      pub content: String,
      pub cursor_pos: (usize, usize),  // (row, col)
  }
  
  impl EditorState {
      pub fn new(content: String) -> Self { }
      pub fn line_count(&self) -> usize { }
      pub fn get_line(&self, row: usize) -> Option<&str> { }
      pub fn move_cursor_to(&mut self, row: usize, col: usize) { }
      pub fn delete_line(&mut self, row: usize) { }
      pub fn insert_text(&mut self, text: &str) { }
  }
  ```

- [ ] –î–æ–±–∞–≤—å—Ç–µ –º–µ—Ç–æ–¥—ã –¥–ª—è –±–∞–∑–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- [ ] –ù–∞–ø–∏—à–∏—Ç–µ unit-—Ç–µ—Å—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –º–µ—Ç–æ–¥–∞

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞:**

- –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –¢–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- –ù–µ—Ç –ø–∞–Ω–∏–∫ –ø—Ä–∏ –≥—Ä–∞–Ω–∏—á–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏—è—Ö

---

### –ó–∞–¥–∞—á–∞ 1.4: –°–∏—Å—Ç–µ–º–∞ –ø–æ–¥—Å—á—ë—Ç–∞ –æ—á–∫–æ–≤ (Scorer)

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**

- [ ] –°–æ–∑–¥–∞–π—Ç–µ –º–æ–¥—É–ª—å `src/game/scorer.rs`
- [ ] –†–µ–∞–ª–∏–∑—É–π—Ç–µ –ª–æ–≥–∏–∫—É –ø–æ–¥—Å—á—ë—Ç–∞ –æ—á–∫–æ–≤:

  ```rust
  pub struct Scorer;
  
  impl Scorer {
      pub fn calculate_score(
          optimal_count: usize,
          actual_count: usize,
          max_points: u32,
      ) -> u32 {
          // –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª —Å—Ç–æ–ª—å–∫–æ –∂–µ –∏–ª–∏ –º–µ–Ω—å—à–µ –∫–æ–º–∞–Ω–¥ - 100%
          // –ò–Ω–∞—á–µ –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
      }
      
      pub fn get_feedback(
          actual: usize,
          optimal: usize,
          alternative_solutions: &[AlternativeSolution],
      ) -> String {
          // –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–∫—Å—Ç –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏
      }
  }
  ```

- [ ] –î–æ–±–∞–≤—å—Ç–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Ä–µ—à–µ–Ω–∏—è
- [ ] –ù–∞–ø–∏—à–∏—Ç–µ —Ç–µ—Å—Ç—ã –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞:**

- –§–æ—Ä–º—É–ª–∞ –ø–æ–¥—Å—á—ë—Ç–∞ –æ—á–∫–æ–≤ –ª–æ–≥–∏—á–Ω–∞ –∏ —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–∞
- –û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω–∞
- –¢–µ—Å—Ç—ã –≤—Å–µ—Ö –≥—Ä–∞–Ω–∏—á–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤ –ø—Ä–æ—Ö–æ–¥—è—Ç

---

### –ó–∞–¥–∞—á–∞ 1.5: –ò–≥—Ä–æ–≤–æ–π –¥–≤–∏–≥–∞—Ç–µ–ª—å (GameSession)

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**

- [ ] –°–æ–∑–¥–∞–π—Ç–µ –º–æ–¥—É–ª—å `src/game/scenario.rs`
- [ ] –†–µ–∞–ª–∏–∑—É–π—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É GameSession:

  ```rust
  pub struct GameSession {
      scenario: Scenario,
      current_state: EditorState,
      user_actions: Vec<UserAction>,
      started_at: Instant,
      completed: bool,
  }
  
  impl GameSession {
      pub fn new(scenario: Scenario) -> Self { }
      pub fn apply_action(&mut self, action: UserAction) -> Result<()> { }
      pub fn check_completion(&self) -> bool { }
      pub fn calculate_score(&self) -> u32 { }
      pub fn get_hint(&self) -> &str { }
      pub fn get_solution(&self) -> &Solution { }
  }
  ```

- [ ] –ù–∞–ø–∏—à–∏—Ç–µ –ª–æ–≥–∏–∫—É –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–∞–¥–∞—á–∏
- [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–π—Ç–µ Scorer –¥–ª—è –ø–æ–¥—Å—á—ë—Ç–∞ –æ—á–∫–æ–≤

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞:**

- –°–µ—Å—Å–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å–æ Scorer —Ä–∞–±–æ—Ç–∞–µ—Ç

---

### –ó–∞–¥–∞—á–∞ 1.6: –ë–∞–∑–æ–≤—ã–π TUI (Menu)

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**

- [ ] –°–æ–∑–¥–∞–π—Ç–µ –º–æ–¥—É–ª—å `src/ui/` —Å –ø–æ–¥–º–æ–¥—É–ª–µ–º `menu.rs`
- [ ] –†–µ–∞–ª–∏–∑—É–π—Ç–µ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º ratatui:

  ```
  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
  ‚îÇ  HELIX TRAINER          ‚îÇ
  ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
  ‚îÇ  [‚Üí] Start Training     ‚îÇ
  ‚îÇ  [ ] Statistics         ‚îÇ
  ‚îÇ  [ ] Settings           ‚îÇ
  ‚îÇ  [ ] Quit               ‚îÇ
  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
  ```

- [ ] –î–æ–±–∞–≤—å—Ç–µ –Ω–∞–≤–∏–≥–∞—Ü–∏—é (—Å—Ç—Ä–µ–ª–∫–∏ –≤–≤–µ—Ä—Ö/–≤–Ω–∏–∑, Enter –¥–ª—è –≤—ã–±–æ—Ä–∞)
- [ ] –†–µ–∞–ª–∏–∑—É–π—Ç–µ –≤–æ–∑–≤—Ä–∞—Ç –≤ –º–µ–Ω—é

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞:**

- –ú–µ–Ω—é –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –ù–∞–≤–∏–≥–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –ø–∞–Ω–∏–∫—É–µ—Ç –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –∫–ª–∞–≤–∏—à

---

### –ó–∞–¥–∞—á–∞ 1.7: –≠–∫—Ä–∞–Ω –∑–∞–¥–∞—á–∏ (TaskScreen)

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**

- [ ] –°–æ–∑–¥–∞–π—Ç–µ –º–æ–¥—É–ª—å `src/ui/task_screen.rs`
- [ ] –û—Ç–æ–±—Ä–∞–∑–∏—Ç–µ:

  ```
  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
  ‚îÇ Task: Delete current line         ‚îÇ
  ‚îÇ Difficulty: ‚òÖ‚òÜ‚òÜ                  ‚îÇ
  ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
  ‚îÇ Description:                     ‚îÇ
  ‚îÇ –£–¥–∞–ª–∏—Ç—å —Ç–µ–∫—É—â—É—é —Å—Ç—Ä–æ–∫—É, –≥–¥–µ      ‚îÇ
  ‚îÇ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –∫—É—Ä—Å–æ—Ä                 ‚îÇ
  ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
  ‚îÇ Current state:                   ‚îÇ
  ‚îÇ > first line                     ‚îÇ
  ‚îÇ | second line (cursor here)      ‚îÇ
  ‚îÇ | third line                     ‚îÇ
  ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
  ‚îÇ Actions: 0 | Optimal: 2          ‚îÇ
  ‚îÇ                                  ‚îÇ
  ‚îÇ [H]int  [S]olution  [Skip] [Q]uit‚îÇ
  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
  ```

- [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–π—Ç–µ —Å GameSession
- [ ] –û—Ç–æ–±—Ä–∞–∑–∏—Ç–µ —Å—á—ë—Ç—á–∏–∫ –¥–µ–π—Å—Ç–≤–∏–π

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞:**

- –≠–∫—Ä–∞–Ω –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –°–æ—Å—Ç–æ—è–Ω–∏–µ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- –ö–Ω–æ–ø–∫–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É—é—Ç

---

### –ó–∞–¥–∞—á–∞ 1.8: –≠–∫—Ä–∞–Ω —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (ResultsScreen)

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**

- [ ] –°–æ–∑–¥–∞–π—Ç–µ –º–æ–¥—É–ª—å `src/ui/results.rs`
- [ ] –û—Ç–æ–±—Ä–∞–∑–∏—Ç–µ:

  ```
  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
  ‚îÇ COMPLETED ‚úì                      ‚îÇ
  ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
  ‚îÇ Score: 95 / 100                  ‚îÇ
  ‚îÇ Actions: 2 / 2 (optimal!)        ‚îÇ
  ‚îÇ Time: 45 seconds                 ‚îÇ
  ‚îÇ                                  ‚îÇ
  ‚îÇ Ideal solution:                  ‚îÇ
  ‚îÇ > 'd', 'd'                       ‚îÇ
  ‚îÇ                                  ‚îÇ
  ‚îÇ Alternative solutions:           ‚îÇ
  ‚îÇ > 'Ctrl-K'                       ‚îÇ
  ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
  ‚îÇ     [Next Task]  [Main Menu]     ‚îÇ
  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
  ```

- [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–π—Ç–µ —Å GameSession –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞:**

- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω–∞

---

### –ó–∞–¥–∞—á–∞ 1.9: –û—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**

- [ ] –°–æ–∑–¥–∞–π—Ç–µ `src/main.rs` —Å –æ—Å–Ω–æ–≤–Ω—ã–º —Ü–∏–∫–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:

  ```rust
  #[tokio::main]
  async fn main() -> anyhow::Result<()> {
      // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
      // –û—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–±—ã—Ç–∏–π
      // –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞–∂–∞—Ç–∏–π –∫–ª–∞–≤–∏—à
      // –ü–µ—Ä–µ—Ö–æ–¥—ã –º–µ–∂–¥—É —ç–∫—Ä–∞–Ω–∞–º–∏
  }
  ```

- [ ] –†–µ–∞–ª–∏–∑—É–π—Ç–µ –æ–±—Ä–∞–±–æ—Ç–∫—É Ctrl+C –¥–ª—è –≤—ã—Ö–æ–¥–∞
- [ ] –î–æ–±–∞–≤—å—Ç–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ tracing

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞:**

- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∏ –Ω–µ –ø–∞–Ω–∏–∫—É–µ—Ç
- –ú–æ–∂–Ω–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –≤—ã–π—Ç–∏
- –ú–æ–∂–Ω–æ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –º–µ–∂–¥—É —ç–∫—Ä–∞–Ω–∞–º–∏

---

### –ó–∞–¥–∞—á–∞ 1.10: –°–æ–∑–¥–∞–Ω–∏–µ TOML —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**

- [ ] –°–æ–∑–¥–∞–π—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é `scenarios/`
- [ ] –ù–∞–ø–∏—à–∏—Ç–µ `scenarios/basic.toml` —Å 5-10 –±–∞–∑–æ–≤—ã–º–∏ –∑–∞–¥–∞—á–∞–º–∏:
  - –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏ (d, d)
  - –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –∫—É—Ä—Å–æ—Ä–∞ (j, k, h, l)
  - –í—Å—Ç–∞–≤–∫–∞ —Ç–µ–∫—Å—Ç–∞
  - –í—ã–¥–µ–ª–µ–Ω–∏–µ (v)
  - –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ (y)

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞:**

- TOML —Ñ–∞–π–ª—ã –≤–∞–ª–∏–¥–Ω—ã
- –°—Ü–µ–Ω–∞—Ä–∏–∏ –ª–æ–≥–∏—á–Ω—ã –∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–∏—Ä—É—é—Ç –ø–æ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏

---

## –≠–¢–ê–ü 2: HELIX INTEGRATION

### –ó–∞–¥–∞—á–∞ 2.1: PTY Controller

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**

- [ ] –°–æ–∑–¥–∞–π—Ç–µ –º–æ–¥—É–ª—å `src/helix/pty_controller.rs`
- [ ] –†–µ–∞–ª–∏–∑—É–π—Ç–µ –∑–∞–ø—É—Å–∫ Helix –ø—Ä–æ—Ü–µ—Å—Å–∞:

  ```rust
  pub struct HelixPTY {
      process: PtyProcess,
  }
  
  impl HelixPTY {
      pub fn new(file_path: &Path) -> anyhow::Result<Self> { }
      pub fn send_command(&mut self, cmd: &str) -> anyhow::Result<()> { }
      pub fn get_buffer_content(&self) -> anyhow::Result<String> { }
      pub fn close(&mut self) -> anyhow::Result<()> { }
  }
  ```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: —ç—Ç–æ —Å–ª–æ–∂–Ω–∞—è —á–∞—Å—Ç—å, –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ Helix output.

---

### –ó–∞–¥–∞—á–∞ 2.2: Command Tracker

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**

- [ ] –°–æ–∑–¥–∞–π—Ç–µ –º–æ–¥—É–ª—å `src/helix/command_tracker.rs`
- [ ] –û—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ –≤—Ö–æ–¥–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –∏ —Å—Ä–∞–≤–Ω–∏–≤–∞–π—Ç–µ —Å target state

---

## –≠–¢–ê–ü 3: POLISH & FEATURES

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≠—Ç–∞–ø–æ–≤ 1-2 –¥–æ–±–∞–≤—å—Ç–µ:

- –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- –£—Ä–æ–≤–Ω–∏ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
- –°–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
- Export —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≤ JSON

---

## –ü–†–ê–í–ò–õ–ê –†–ê–ó–†–ê–ë–û–¢–ö–ò

### –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞

```
- –ö–∞–∂–¥—ã–π –º–æ–¥—É–ª—å –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –æ–¥–Ω—É –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–∏–ø—ã –¥–ª—è –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏—è –¥–æ–º–µ–Ω–∞
- –ú–∏–Ω–∏–º–∏–∑–∏—Ä—É–π—Ç–µ pub API –∫–∞–∂–¥–æ–≥–æ –º–æ–¥—É–ª—è
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

```rust
// –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ anyhow::Result<T> –¥–ª—è –ø—É–±–ª–∏—á–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
// –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ thiserror –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –æ—à–∏–±–æ–∫
// –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ unwrap() –≤ production –∫–æ–¥–µ
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```
- –ú–∏–Ω–∏–º—É–º unit-—Ç–µ—Å—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –º–æ–¥—É–ª—è
- Integration —Ç–µ—Å—Ç—ã –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- –¢–µ—Å—Ç—ã –≥—Ä–∞–Ω–∏—á–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤ (empty strings, zero, max values)
```

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

```
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ /// –¥–ª—è –ø—É–±–ª–∏—á–Ω–æ–≥–æ API
- –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö
- README –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –º–æ–¥—É–ª—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
```

---

## –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–ï –ò–ù–°–¢–†–£–ú–ï–ù–¢–û–í

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞

```bash
cargo fmt              # –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
cargo clippy           # –õ–∏–Ω—Ç–µ—Ä
cargo test             # –¢–µ—Å—Ç—ã
cargo build --release  # Release —Å–±–æ—Ä–∫–∞
```

### Debug

```bash
RUST_LOG=debug cargo run   # –° –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º
```

---

## –ö–†–ò–¢–ï–†–ò–ò –ü–†–ò–Å–ú–ê –ó–ê–î–ê–ß–ò

–ö–∞–∂–¥–∞—è –∑–∞–¥–∞—á–∞ —Å—á–∏—Ç–∞–µ—Ç—Å—è –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–π –∫–æ–≥–¥–∞:

1. ‚úÖ –ö–æ–¥ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫ –∏ warning'–æ–≤
2. ‚úÖ –í—Å–µ unit-—Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
3. ‚úÖ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–æ–≥–ª–∞—Å–Ω–æ –æ–ø–∏—Å–∞–Ω–∏—é
4. ‚úÖ –ö–æ–¥ —Å–ª–µ–¥—É–µ—Ç style guide –∏ –ª—É—á—à–∏–º –ø—Ä–∞–∫—Ç–∏–∫–∞–º Rust
5. ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∞–∫—Ç—É–∞–ª—å–Ω–∞

---

## –ö–û–ì–î–ê –û–ë–†–ê–©–ê–¢–¨–°–Ø –ó–ê –£–¢–û–ß–ù–ï–ù–ò–Ø–ú–ò

- –ï—Å–ª–∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∑–∞–¥–∞—á–∏ –Ω–µ—è—Å–Ω—ã
- –ï—Å–ª–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –Ω–µ–ø–æ–Ω—è—Ç–Ω–æ
- –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –≤—ã–±–∏—Ä–∞—Ç—å –º–µ–∂–¥—É –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞–º–∏
- –ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –±–ª–æ–∫–∏—Ä—É—é—â–∏–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

---

## –ü–†–ò–û–†–ò–¢–ò–ó–ê–¶–ò–Ø

**–í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:**

1. –ó–∞–¥–∞—á–∏ –≠—Ç–∞–ø–∞ 1 (Foundation) - —ç—Ç–æ MVP
2. –†–∞–±–æ—Ç–∞—é—â–µ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –º–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å
3. –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ —Ç–µ—Å—Ç–æ–≤–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ

**–°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:**

- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è performance
- –£–ª—É—á—à–µ–Ω–∏–µ UI/UX

**–ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:**

- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- Advanced logging

---

## –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –†–ï–°–£–†–°–´

- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è ratatui: <https://docs.rs/ratatui/latest/ratatui/>
- Crossterm: <https://docs.rs/crossterm/latest/crossterm/>
- Rust Book: <https://doc.rust-lang.org/book/>
- Tokio Runtime: <https://tokio.rs/>

---

## –ù–ê–ß–ù–ò–¢–ï –° –ó–ê–î–ê–ß–ò 1.1

–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –∏ —Å–æ–∑–¥–∞–π—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π. –≠—Ç–æ –¥–∞—Å—Ç —Ö–æ—Ä–æ—à–∏–π —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç –¥–ª—è –æ—Å—Ç–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.

**–£–¥–∞—á–∏! üöÄ**
